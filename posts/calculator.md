# 鸡尾酒计算器与元信息

我本来就是一个喜欢简单的人。但是遇到了无能为力的情况就会倾向把事情搞得很复杂。  
最终把一个明明很简单的事变得极为繁琐。

现在的鸡尾酒软件有很多都会提供酒精度、杯型、口味中的部分或者更多的指标。  
这“看起来”当然很专业，很漂亮。我也收到过建议，要求增加这些指标。

## 很多网站都有，为什么调了个酒没有？

这很容易做到，只要把信息输入进去就可以了。  
简单的方式就是手动输入，这需要大量的人工编辑，对于调了个酒来说是不可能的。

另一方面，是这些数值是不是真的有帮助。  
在很早的时候我买过一些出版比较早的日本鸡尾酒书，里面会注明精确到 1 位小数的酒精度。比如某款鸡尾酒的酒精度是 14.2%。  
但现在想来其实是没有意义的，因为你使用的原料、制作的过程很大概率会与书中给出的酒精度相去甚远。

当然了，如果就是头铁，或者是想当然的人。也可以把每一杯酒都做一遍，然后用仪器或者方法测量出酒精度，再手工填写到数据库中。  
应该不会有那么蠢的人，最重要的是这个数值的意义实在是有限，所以我倾向不由我来做这件事。

## 好的例子

![difford's guide](/images/difford-ruler.png)
我看了很多鸡尾酒网站，difford's guide 应该是在这件事上投入最多的网站。  
但 difford's guide 其实存在一些不成立的功能：  
比如....让用户给一款鸡尾酒打分？（为何马天尼和金汤力要分出高下？）或是一个像调查问卷一样的 cocktail finder。  
这很大功能是为了让页面看起来更复杂，也许会让人觉得更专业。
基于主观的印象，我相信 difford's guide 上成千上万的鸡尾酒元信息有可能都是手工录入的。  
当然，让电脑来计算也是有可能的，但我们要做的就是让最终的结果有意义。

difford's guide 页面中的酒精度与甜度是有意义的，我们要做的就是设计一个计算器把这些结果算出来。  
在调了个酒中只有菜谱和词条两种类型的信息，原料也是词条，而菜谱又包含词条。  
糖浆是甜的、柠檬汁是酸的、酒精度可以在每个基酒的词条中设置好。
自动计算是可能的，只需要设置好每个原料的酒精度与糖分，而不需要手工给每个菜谱录入信息。

## 鸡尾酒计算器

明显自动计算是更好的方式，也是对调了个酒来说更合适的方式。  
任何时候都要避免内容维护对人工的大量依赖，这会严重消耗耐心，最后也就不更了。关于这个策略后续可以再写一篇文章。

然后就是写一个计算的代码，我不知道怎么算糖分的分量，多少算甜，多少算干。酒精度就更不会计算了。  
这种时候当然是直接搜一下有没有成品。

我发现 cocktail chemistry 在 7 年多以前设计了一款鸡尾酒计算器，是以 excel 表格的形式发布的，这是个意外发现。  
![formula](/images/excel.png)
让我受到很大启发，但 cocktail chemistry 也是受到 2004 年出版的《Liquid Intelligence》一书中提到的“化水公式”的启发才开发出了完整的计算器。  
简单的说，这个化水公式就是可以根据调酒方式、初始酒精度的方式计算出化水的比率，并且书中给出了一些正常的范围。

![formula](/images/calc-dilution.png)

一个非常科学严谨的多项式回归模型，基于书中提到为了得到这个公式经过了大量的测试，我们可以认为这个公式是可靠的。

## 再进一步

cocktail chemistry 的计算器其实非常棒，它可以直观的告诉你的鸡尾酒是否可能不足。  
这直接帮我解决了计算酒精度、糖分的问题，甚至还顺带计算了化水量、最终体积、酸度、酸甜比。  
这不是专业到头了。

但这个计算器后来也没有在 cocktail chemistry 的网站上更新了，其实作者在 2015 年后基本也没有活动了。
这个计算器目前我发现仅有的一个问题就是原材料是预设的数据（从 Liquid Intelligence 中摘录）。  
如果你想使用自己的原料而且预设数据中没有，你就需要知道它的酒精度、糖分、酸度，然后手工输入。  
这相对原本的体验来说就有点麻烦了。

说回到调了个酒，我们现在需要做的就是：

1. 把菜谱传入计算器
2. 提取原料，以及原料的酒精度、糖分、酸度
3. 计算出鸡尾酒的酒精度、糖分、酸度

是的，为了让计算器分析我们的菜谱，就必须完善词条的元信息（酒精度、糖分...）  
这顺便解决了计算器原有的问题，这自动扩充了预设的材料信息。

总体来说，我认为这是一种非常好的结合，数据变得真的有意义而且可靠了。主要他还是半自动的（只需要定义好材料元信息）。  
<img src='/images/calculator.png' width='320'/>
Boom！我重新设计了一下来自 cocktail chemistry 的计算器，我最近会把他移植到调了个酒里面！
